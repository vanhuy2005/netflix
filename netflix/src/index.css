/* Netflix Clone 2025 - Global Styles */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* --- 1. FONTS --- */
@font-face {
  font-family: "Netflix Sans";
  src: url("https://assets.nflxext.com/ffe/siteui/fonts/netflix-sans/v3/NetflixSans-Regular.woff2") format("woff2");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Netflix Sans";
  src: url("https://assets.nflxext.com/ffe/siteui/fonts/netflix-sans/v3/NetflixSans-Medium.woff2") format("woff2");
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Netflix Sans";
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

/* --- 2. BASE SETUP (FIX SCROLL) --- */
@layer base {
  * {
    @apply box-border;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-[#141414] text-white antialiased;
    font-family: "Netflix Sans", "Inter", "Helvetica Neue", Helvetica, Arial, sans-serif;
    margin: 0;
    padding: 0;
    overflow-x: hidden; /* Chỉ ẩn thanh cuộn ngang */
    overflow-y: auto;   /* Cho phép cuộn dọc */
  }

  /* Đảm bảo App luôn full chiều cao */
  #root {
    width: 100%;
    min-height: 100vh;
    position: relative;
    overflow-x: hidden;
  }

  /* Khi Modal mở -> Thêm class này vào body để khóa cuộn */
  body.modal-open {
    overflow: hidden !important;
  }

  /* Custom Scrollbar - Netflix Style */
  ::-webkit-scrollbar {
    width: 8px; /* Độ rộng vừa phải */
    height: 8px;
  }
  ::-webkit-scrollbar-track {
    background: #141414; 
  }
  ::-webkit-scrollbar-thumb {
    background: #404040; 
    border-radius: 4px;
  }
  ::-webkit-scrollbar-thumb:hover {
    background: #6b6b6b;
  }
}

/* --- 3. CUSTOM COMPONENTS (SLIDER CHO PLAYER) --- */
@layer components {
  /* Netflix Red Slider (Dùng cho Volume & Progress Bar) */
  .netflix-slider {
    -webkit-appearance: none;
    background: transparent;
    width: 100%;
    cursor: pointer;
    height: 4px; /* Độ dày thanh */
    border-radius: 2px;
    position: relative;
  }

  .netflix-slider:focus {
    outline: none;
  }

  /* Chrome/Safari/Edge Thumb */
  .netflix-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    height: 16px;
    width: 16px;
    border-radius: 50%;
    background: #e50914; /* Đỏ Netflix */
    cursor: pointer;
    margin-top: -6px; /* Căn giữa thumb với track */
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    transform: scale(0); /* Mặc định ẩn thumb */
    transition: transform 0.1s ease-in-out;
  }

  /* Chrome/Safari/Edge Track */
  .netflix-slider::-webkit-slider-runnable-track {
    width: 100%;
    height: 4px;
    cursor: pointer;
    background: #404040;
    border-radius: 2px;
  }

  /* Hiện Thumb khi hover vào thanh slider */
  .group:hover .netflix-slider::-webkit-slider-thumb,
  .netflix-slider:hover::-webkit-slider-thumb {
    transform: scale(1);
  }
}

/* --- 4. UTILITIES --- */
@layer utilities {
  .text-shadow {
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.6);
  }

  .text-shadow-lg {
    text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.8);
  }

  /* Gradient đen mờ từ dưới lên (Dùng cho Modal/Hero) */
  .gradient-overlay {
    background: linear-gradient(
      to top,
      rgba(20, 20, 20, 1) 0%,
      rgba(20, 20, 20, 0.6) 40%,
      transparent 100%
    );
  }

  /* Ẩn thanh cuộn nhưng vẫn cuộn được */
  .scrollbar-hide {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none; /* Chrome, Safari and Opera */
  }

  /* Premium Scrollbar (Cho Modal nội dung dài) */
  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }
  .custom-scrollbar::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.1);
  }
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 10px;
  }
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.4);
  }
}

/* --- 5. ANIMATIONS --- */

/* Shake (Sai mật khẩu) */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-8px); }
  75% { transform: translateX(8px); }
}
.animate-shake {
  animation: shake 0.3s ease-in-out;
}

/* Breathe (Avatar) */
@keyframes breathe {
  0%, 100% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.05); opacity: 0.9; }
}
.animate-breathe {
  animation: breathe 3s ease-in-out infinite;
}

/* Fade In Up (Modal xuất hiện) */
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-fadeInUp {
  animation: fadeInUp 0.5s ease-out forwards;
}

/* Shimmer (Skeleton Loading) */
@keyframes shimmer {
  0% { background-position: -1000px 0; }
  100% { background-position: 1000px 0; }
}
.animate-shimmer {
  background: linear-gradient(90deg, #1a1a1a 0%, #2d2d2d 20%, #404040 40%, #2d2d2d 60%, #1a1a1a 100%);
  background-size: 1000px 100%;
  animation: shimmer 2s infinite linear;
}